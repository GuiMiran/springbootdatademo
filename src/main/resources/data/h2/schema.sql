
DROP TABLE ASIGNATURAS_ALUMNOS IF EXISTS;
DROP TABLE ALUMNOS 			IF EXISTS;
DROP TABLE ASIGNATURAS		IF EXISTS;
DROP TABLE CLIENTES 		IF EXISTS;
DROP TABLE EMPLEADOS		IF EXISTS;
DROP TABLE DEPARTAMENTOS 	IF EXISTS;
DROP TABLE DISCOS			IF EXISTS;
DROP TABLE ARTISTAS			IF EXISTS;

-- MODELO DE FACTURAS

DROP TABLE CLIENTES 			IF EXISTS;
DROP TABLE LINEAS_FACTURA		IF EXISTS;
DROP TABLE PRODUCTOS			IF EXISTS;
DROP TABLE FACTURAS				IF EXISTS;

CREATE TABLE CLIENTES (
	NIF						VARCHAR(15)		NOT NULL,
	NOMBRE					VARCHAR(100)	NOT NULL,
	DIRECCION 				VARCHAR(100)	NOT NULL,
	POBLACION				VARCHAR(100)	NOT NULL,
	CODIGO_POSTAL			CHAR(5)			NOT NULL,
	PROVINCIA				VARCHAR(100)	NOT NULL,
	PAIS					VARCHAR(100)	NOT NULL,
	PRIMARY KEY (NIF)
);

CREATE TABLE FACTURAS (
	CODIGO						INT				NOT NULL,
	FECHA						DATE			NOT NULL,
	ID_CLIENTE					VARCHAR(15)		NOT NULL,
	PRIMARY KEY (CODIGO),
	FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (NIF)
);

CREATE TABLE PRODUCTOS(
	CODIGO						INT				NOT NULL,
	NOMBRE						VARCHAR(100)	NOT NULL,
	PRECIO						DECIMAL(10,2)	NOT NULL,
	PRIMARY KEY (CODIGO)
);

CREATE TABLE LINEAS_FACTURA (
	CODIGO_FACTURA				INT				NOT NULL,
	CODIGO_PRODUCTO				INT				NOT NULL,
	CANTIDAD					INT				NOT NULL,
	PRECIO						DECIMAL(10,2)	NOT NULL,
	INDICE						INT				NOT NULL,
	FOREIGN KEY (CODIGO_FACTURA) REFERENCES FACTURAS (CODIGO),
	FOREIGN KEY (CODIGO_PRODUCTO) REFERENCES PRODUCTOS (CODIGO)
);



CREATE TABLE ALUMNOS (
	ID				BIGINT			NOT NULL,
	NOMBRE			VARCHAR(100)	NOT NULL,
	APELLIDO		VARCHAR(100)	NOT NULL,
	PRIMARY KEY(ID)
);

CREATE TABLE ASIGNATURAS(
	CODIGO			BIGINT			NOT NULL,
	NOMBRE			VARCHAR(100)	NOT NULL,
	PRIMARY KEY (CODIGO)
);

CREATE TABLE ASIGNATURAS_ALUMNOS(
	ID_ALUMNO		BIGINT			NOT NULL,
	CODIGO_ASIGNATURA BIGINT		NOT NULL,
	FOREIGN KEY (ID_ALUMNO) REFERENCES ALUMNOS (ID),
	FOREIGN KEY (CODIGO_ASIGNATURA) REFERENCES ASIGNATURAS (CODIGO)
);

CREATE TABLE ARTISTAS(
	CODIGO					INT				NOT NULL,
	NOMBRE					VARCHAR(25)		NOT NULL,
	FECHANACIMIENTO			DATE			NOT NULL,
	PRIMARY KEY(CODIGO)
	
	
	
);

CREATE TABLE DISCOS(
	ISBN					VARCHAR(20)		NOT NULL,
	TITULO					VARCHAR(25)		NOT NULL,
	DURACION				DOUBLE			NOT NULL,
	ESTILO					VARCHAR(30),
	CODIGO_ARTISTA			INT				NOT NULL,
	PRIMARY KEY (ISBN),
	FOREIGN KEY (CODIGO_ARTISTA) REFERENCES ARTISTAS(CODIGO)
);

CREATE TABLE DEPARTAMENTOS (
	CODIGO					INT				NOT NULL,
	NOMBRE					VARCHAR(100)	NOT NULL,
	PRIMARY KEY(CODIGO)
);

CREATE TABLE EMPLEADOS (
	CODIGO					VARCHAR(10)		NOT NULL,
	NOMBRE					VARCHAR(100)	NOT NULL,
	APELLIDO1				VARCHAR(100)	NOT NULL,
	APELLIDO2				VARCHAR(100)	NOT NULL,
	ALTA					DATE			NOT NULL,
	SALARIO					DECIMAL(10,2)	NOT NULL,
	CODIGO_DEPARTAMENTO		INT				NOT NULL,
	PRIMARY KEY (CODIGO),
	FOREIGN KEY (CODIGO_DEPARTAMENTO) REFERENCES DEPARTAMENTOS (CODIGO)
);



/* 
 * 
 *EQUIPOS tiene ID, NOMBRE, CIUDAD, NUMERO_SOCIOS

*/